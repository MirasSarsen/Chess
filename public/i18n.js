function initI18n() {
    const translations = {
        ru: {
            nav: {
                btn: "Сменить тему",
                students: "Ученики",
                trainers: "Тренеры",
                schedule: "Расписание",
                tournaments: "Турниры",
                singleGame: "Одиночная-игра",
            },
            main: {
                title: "Добро пожаловать в Шахматную Академию",
                subtitle:
                    "Обучение, турниры и одиночная-игра – всё в одном месте",
                startGame: "Начать игру",
                feature1: {
                    title: "Обучение",
                    desc: "Изучайте стратегию и тактику с профессиональными тренерами",
                },
                feature2: {
                    title: "Одиночная игра",
                    desc: "Тренируйтесь и оттачивайте навыки в шахматах в одиночку.",
                },
                feature3: {
                    title: "Турниры",
                    desc: "Участвуйте в турнирах и повышайте свой рейтинг!",
                },
            },
            footer: {
                aboutTitle: "О НАС",
                aboutDesc:
                    "Шахматная Академия – место, где рождаются чемпионы!",
                supportTitle: "ПОДДЕРЖКА",
                contactUs: "Связаться с нами",
                techSupport: "Техническая помощь",
                contactsTitle: "КОНТАКТЫ",
                phone: "Телефон: +7 771 198 8820",
            },
            trainers: {
                heading: "Наши тренеры",
                subheading:
                    "Профессиональные наставники с богатым опытом и знаниями.",
                name1: "Гроссмейстер Гросс Гроссович",
                desc1: "20 лет опыта, воспитатель чемпионов Казахстана.",
                name2: "Стратегия Сильная Позиция",
                desc2: "Эксперт по обучению детей и подростков.",
            },
            tournaments: {
                heading: "Ближайшие турниры",
                subheading: "Участвуйте и побеждайте в шахматных баталиях!",
                signUp: "Записаться на турнир",

                name1: "Весенний Кубок Академии",
                date1: "25 мая 2025",
                level1: "Все уровни",
                location1: "ул. Абая 23, Павлодар",

                name2: 'Онлайн-турнир "Юный Гроссмейстер"',
                date2: "1 июня 2025",
                format2: "Онлайн",
                level2: "до 14 лет",

                dateLabel: "Дата:",
                levelLabel: "Уровень:",
                formatLabel: "Формат:",
                locationLabel: "Место проведения:",
            },
            students: {
                heading: "Наши ученики",
                subheading:
                    "Знакомьтесь с талантливыми шахматистами нашей академии!",

                name1: "Тестов Тест Тестович",
                desc1: "Кандидат в мастера спорта. Победитель городских турниров.",

                name2: "Демонстрация Демо Демовна",
                desc2: "Призёр региональных чемпионатов по шахматам.",

                name3: "Проверкин Чек Чекович",
                desc3: "Лучший новичок года в Шахматной Академии.",
            },
            schedule: {
                title: "Расписание занятий",
                subtitle: "Актуальное расписание на текущую неделю.",
                signup: "Записаться на занятия",
                mon: "Понедельник: 16:00 — Начинающие",
                wed: "Среда: 18:00 — Средний уровень",
                fri: "Пятница: 17:00 — Продвинутые",
                sat: "Суббота: 14:00 — Турнирные тренировки",
            },
        },
        kz: {
            nav: {
                btn: "Тақырыпты өзгерту",
                students: "Оқушылар",
                trainers: "Жаттықтырушылар",
                schedule: "Кесте",
                tournaments: "Турнирлер",
                singleGame: "Жеке ойын",
            },
            main: {
                title: "Шахмат Академиясына қош келдіңіз",
                subtitle: "Оқыту, турнирлер және жеке ойын – бәрі бір жерде",
                startGame: "Ойынды бастау",
                feature1: {
                    title: "Оқыту",
                    desc: "Кәсіби жаттықтырушылармен стратегия мен тактиканы үйреніңіз",
                },
                feature2: {
                    title: "Жеке ойын",
                    desc: "Шахмат шеберлігіңізді жеке өзіңіз дамытыңыз.",
                },
                feature3: {
                    title: "Турнирлер",
                    desc: "Турнирлерге қатысып, рейтингіңізді көтеріңіз!",
                },
            },
            footer: {
                aboutTitle: "БІЗ ТУРАЛЫ",
                aboutDesc: "Шахмат Академиясы – чемпиондар туатын орын!",
                supportTitle: "ҚОЛДАУ",
                contactUs: "Бізбен байланысыңыз",
                techSupport: "Техникалық қолдау",
                contactsTitle: "БАЙЛАНЫС",
                phone: "Телефон: +7 771 198 8820",
            },
            trainers: {
                heading: "Біздің жаттықтырушылар",
                subheading: "Тәжірибесі мен білімі мол кәсіби жаттықтырушылар.",
                name1: "Гроссмейстер Гросс Гроссович",
                desc1: "20 жыл тәжірибе, Қазақстан чемпиондарын дайындаушы.",
                name2: "Стратегия Сильная Позиция",
                desc2: "Балалар мен жасөспірімдерді оқыту жөніндегі сарапшы.",
            },
            tournaments: {
                heading: "Алдағы турнирлер",
                subheading: "Шахмат шайқастарында жеңіске жетіңіз!",
                signUp: "Турнирге тіркелу",

                name1: "Академияның көктемгі кубогы",
                date1: "2025 жылғы 25 мамыр",
                level1: "Барлық деңгейлер",
                location1: "Абай көшесі 23, Павлодар",

                name2: 'Онлайн турнир "Жас Гроссмейстер"',
                date2: "2025 жылғы 1 маусым",
                format2: "Онлайн",
                level2: "14 жасқа дейін",

                dateLabel: "Күні:",
                levelLabel: "Деңгейі:",
                formatLabel: "Форматы:",
                locationLabel: "Өтетін орны:",
            },
            students: {
                heading: "Біздің оқушылар",
                subheading:
                    "Біздің академияның дарынды шахматшыларымен танысыңыз!",

                name1: "Тестов Тест Тестович",
                desc1: "Спорт шеберлігіне кандидат. Қалалық турнирлердің жеңімпазы.",

                name2: "Демонстрация Демо Демовна",
                desc2: "Аймақтық шахмат чемпионаттарының жүлдегері.",

                name3: "Проверкин Чек Чекович",
                desc3: "Шахмат академиясының жылдың үздік бастаушысы.",
            },
            schedule: {
                title: "Сабақ кестесі",
                subtitle: "Осы аптаға арналған өзекті кесте.",
                signup: "Сабаққа жазылу",
                mon: "Дүйсенбі: 16:00 — Бастаушылар",
                wed: "Сәрсенбі: 18:00 — Орта деңгей",
                fri: "Жұма: 17:00 — Жетілдірілгендер",
                sat: "Сенбі: 14:00 — Турнирлік дайындық",
            },
        },
    };

    const langSelect = document.getElementById("langSelect");
    const savedLang = localStorage.getItem("lang") || "ru";

    function translatePage(lang) {
        document.querySelectorAll("[data-i18n]").forEach(el => {
            const keys = el.dataset.i18n.split(".");
            let text = translations[lang];
            keys.forEach(k => (text = text?.[k]));
            if (text) el.textContent = text;
        });
    }

    langSelect.value = savedLang;
    translatePage(savedLang);

    langSelect.addEventListener("change", () => {
        const newLang = langSelect.value;
        localStorage.setItem("lang", newLang);
        translatePage(newLang);
    });
}
